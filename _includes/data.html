{% comment %}
  This is hacky, caused by some jekyll oddness which means that site data
  would otherwise contain a fully rendered version of the generated page
  for each budget.
{% endcomment %}
<script>
  var OffenerHaushalt = OffenerHaushalt || {};
  OffenerHaushalt.apiUrl = "{{site.api_base}}";
  OffenerHaushalt.budgets = {};{% for budget in site.budgets %}
  OffenerHaushalt.budgets[{{budget.slug | jsonify}}] = {
    "title": {{budget.title | jsonify}},
    "slug": {{budget.slug | jsonify}},
    "tagline": {{budget.tagline | jsonify}},
    "source": {{budget.source | jsonify}},
    "source_url": {{budget.source_url | jsonify}},
    "data_url": {{budget.data_url | jsonify}},
    "level": {{budget.level | jsonify}},
    "state": {{budget.state | jsonify}},
    "dataset": {{budget.dataset | jsonify}},
    "default": {{budget.default | jsonify}},
    "filters": {{budget.filters | jsonify}},
    "hierarchies": {{budget.hierarchies | jsonify}},
  };{% endfor %}
</script>
