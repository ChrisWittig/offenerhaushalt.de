angular.module("baseData",[]).factory("baseData",function(){return OffenerHaushalt});var offenerhaushalt=angular.module("offenerhaushalt",["ngAnimate","baseData"]);offenerhaushalt.config(["$compileProvider",function(e){e.debugInfoEnabled(false)}]);offenerhaushalt.controller("AppController",["$scope","$rootScope","$http","$location",function(e,t,o,l){}]);offenerhaushalt.controller("HomeController",["$scope","baseData",function(e,t){e.state={};var o=document.querySelectorAll("#map")[0],l=o.clientWidth,n=o.clientHeight;var a=d3.geo.path(),r=d3.select("#map").append("svg").attr("width",l).attr("height",n),s=null;var u=function(o){var l=o||{};l.budgets=[];for(var n in t.budgets){var a=t.budgets[n];if(a.state==l.code){l.budgets.push(a)}}e.state=l;e.$apply()};d3.json("/assets/img/deu.topo.json",function(e,t){var o=topojson.feature(t,t.objects.deu);var a=d3.geo.mercator().center([10.5,51.35]).scale(2500).translate([l/2,n/2]);var i=d3.geo.path().projection(a);r.selectAll(".subunit").data(o.features).enter().append("path").attr("class",function(e){return"subunit "+e.properties.code}).attr("d",i).on("mouseover",function(e){if(e.properties.code!=s){d3.select(this).transition().duration(200).style({fill:"#333"})}if(s===null){u(e.properties)}}).on("mouseout",function(e){if(e.properties.code!=s){d3.select(this).transition().duration(500).style({fill:"#555"})}if(s===null){u(null)}}).on("click",function(e){if(e.properties.code==s){s=null;u(null);d3.selectAll(".subunit").style({fill:"#555"})}else{s=e.properties.code;u(e.properties);d3.selectAll(".subunit").style({fill:"#555"});d3.select(this).style({fill:"#42928F"})}}).transition().duration(400).style("fill","#555")})}]);offenerhaushalt.controller("BudgetController",["$scope","baseData",function(e,t){e.budget=t.budgets[t.currentBudget];console.log("HUHUHU",e.budget)}]);